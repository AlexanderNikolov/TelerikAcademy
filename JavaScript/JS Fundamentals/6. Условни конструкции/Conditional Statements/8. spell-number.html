<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>jsFundamentals. Conditional Statements. Homework-task5</title>
    <link href="styles/js-console.css" rel="stylesheet" />
    <style>
        input[type=text] {
            border: 1px solid black;
            padding: 5px 15px;
            background-color: black;
            color: white;
            font-family: Consolas;
            margin-bottom: 5px;
        }

        a {
            color: black;
            border: 1px solid black;
            padding: 5px 15px;
            text-decoration: none;
            display: inline-block;
            margin: 15px 0;
        }

            a:hover {
                text-decoration: underline;
            }
    </style>
</head>
<body>
    <label for="tb-input">Input number: </label>
    <input type="text" id="tb-input" />
    <br />
    <a href="#" onclick="onSpellButtonClick()">Spell</a>
    <div id="console">
    </div>
    <script src="scripts/js-console.js">
    </script>
    <script src="scripts/stringBuilder.js">

    </script>

    <script>
        function onSpellButtonClick() {
            /*  Write a script that converts a number in the range
                [0...999] to a text corresponding to its English
                pronunciation. Examples:
                    0   'Zero'
                    273   'Two hundred seventy three'
                    400   'Four hundred'
                    501   'Five hundred and one'
                    711   'Seven hundred and eleven'
            */
            var number = jsConsole.readInteger("#tb-input");
            var sb = new stringBuilder();

            while (true) {
                if (number >= 100 && number <= 999) {
                    var hundred = number / 100 >> 0 % 10;
                    sb.append(spellDigit(hundred));
                    sb.append(" hundred ");

                    var middleDigit = parseInt(number / 10 % 10);
                    var rightDigit = number % 10;

                    if (middleDigit == 0 && rightDigit == 0) {
                        break;
                    } else if (middleDigit == 0) {
                        sb.append("and ");
                        sb.append(spellDigit(rightDigit));
                        break;
                    } else {
                        number = number - hundred * 100;
                        sb.append("and ");
                    }
                }

                if (number >= 10 && number <= 99) {
                    var leftDigit = parseInt(number / 10 % 10);
                    var rightDigit = number % 10;

                    if (leftDigit == 1 || rightDigit == 0) {
                        sb.append(spellDigit(number));
                        break;
                    } else {
                        sb.append(spellDigit(leftDigit * 10));
                        sb.append(" ");
                        sb.append(spellDigit(rightDigit));
                        break;
                    }
                }

                if (number >= 0 && number <= 9) {
                    sb.append(spellDigit(number));
                    break;
                }
            }

            jsConsole.writeLine(sb.toString());
        }

        function spellDigit(arg) {
            switch (arg) {
                case 0: return "Zero";
                case 1: return "One";
                case 2: return "Two";
                case 3: return "Three";
                case 4: return "Four";
                case 5: return "Five";
                case 6: return "Six";
                case 7: return "Seven";
                case 8: return "Eight";
                case 9: return "Nine";
                case 10: return "Ten";
                case 11: return "Eleven";
                case 12: return "Twelve";
                case 13: return "Thirteen";
                case 14: return "Fourteen";
                case 15: return "Fifteen";
                case 16: return "Sixteen";
                case 17: return "Seventeen";
                case 18: return "Eighteen";
                case 19: return "Nineteen";
                case 20: return "Twenty";
                case 30: return "Thirty";
                case 40: return "Forty";
                case 50: return "Fifty";
                case 60: return "Sixty";
                case 70: return "Seventy";
                case 80: return "Eighty";
                case 90: return "Ninety";
            }
        }
    </script>
</body>
</html>
